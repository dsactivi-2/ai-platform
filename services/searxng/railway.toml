[deploy]
startCommand = """sh -c 'mkdir -p /etc/searxng && printf "use_default_settings: true\nserver:\n  secret_key: \"activi-searxng-secret-2026\"\n  limiter: false\n  image_proxy: false\n  method: \"GET\"\nsearch:\n  safe_search: 0\n  autocomplete: \"\"\n  default_lang: \"en\"\n  formats:\n    - html\n    - json\nui:\n  static_use_hash: true\n  default_theme: simple\n  center_alignment: true\n" > /etc/searxng/settings.yml && printf "[botdetection.ip_limit]\nlink_token = false\n[botdetection.ip_lists]\nblock_ip = []\npass_ip = [\n  \"0.0.0.0/0\",\n]\n" > /etc/searxng/limiter.toml && echo "[railway] Custom config applied" && export SEARXNG_SETTINGS_PATH=/etc/searxng/settings.yml && exec /usr/local/searxng/venv/bin/python3 -m granian --interface asgi --host 0.0.0.0 --port 8080 --workers 1 searx.webapp:app'"""
